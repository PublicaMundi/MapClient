function X2JS(e){function t(){e.escapeMode===undefined&&(e.escapeMode=!0),e.attributePrefix=e.attributePrefix||"_",e.arrayAccessForm=e.arrayAccessForm||"none",e.emptyNodeForm=e.emptyNodeForm||"text",e.enableToStringFunc===undefined&&(e.enableToStringFunc=!0),e.arrayAccessFormPaths=e.arrayAccessFormPaths||[],e.skipEmptyTextNodesForObj===undefined&&(e.skipEmptyTextNodesForObj=!0),e.stripWhitespaces===undefined&&(e.stripWhitespaces=!0),e.datetimeAccessFormPaths=e.datetimeAccessFormPaths||[]}function n(){function e(e){var t=String(e);return t.length===1&&(t="0"+t),t}typeof String.prototype.trim!="function"&&(String.prototype.trim=function(){return this.replace(/^\s+|^\n+|(\s|\n)+$/g,"")}),typeof Date.prototype.toISOString!="function"&&(Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"})}function r(e){var t=e.localName;t==null&&(t=e.baseName);if(t==null||t=="")t=e.nodeName;return t}function i(e){return e.prefix}function s(e){return typeof e=="string"?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"):e}function o(e){return e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&#x2F;/g,"/")}function u(t,n,r){switch(e.arrayAccessForm){case"property":t[n]instanceof Array?t[n+"_asArray"]=t[n]:t[n+"_asArray"]=[t[n]]}if(!(t[n]instanceof Array)&&e.arrayAccessFormPaths.length>0){var i=0;for(;i<e.arrayAccessFormPaths.length;i++){var s=e.arrayAccessFormPaths[i];if(typeof s=="string"){if(s==r)break}else if(s instanceof RegExp){if(s.test(r))break}else if(typeof s=="function"&&s(t,n,r))break}i!=e.arrayAccessFormPaths.length&&(t[n]=[t[n]])}}function a(e){var t=e.split(/[-T:+Z]/g),n=new Date(t[0],t[1]-1,t[2]),r=t[5].split(".");n.setHours(t[3],t[4],r[0]),r.length>1&&n.setMilliseconds(r[1]);if(t[6]&&t[7]){var i=t[6]*60+Number(t[7]),s=/\d\d-\d\d:\d\d$/.test(e)?"-":"+";i=0+(s=="-"?-1*i:i),n.setMinutes(n.getMinutes()-i-n.getTimezoneOffset())}else e.indexOf("Z",e.length-1)!==-1&&(n=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())));return n}function f(t,n,r){if(e.datetimeAccessFormPaths.length>0){var i=r.split(".#")[0],s=0;for(;s<e.datetimeAccessFormPaths.length;s++){var o=e.datetimeAccessFormPaths[s];if(typeof o=="string"){if(o==i)break}else if(o instanceof RegExp){if(o.test(i))break}else if(typeof o=="function"&&o(obj,n,i))break}return s!=e.datetimeAccessFormPaths.length?a(t):t}return t}function l(t,n){if(t.nodeType==S.DOCUMENT_NODE){var s=new Object,a=t.childNodes;for(var c=0;c<a.length;c++){var h=a.item(c);if(h.nodeType==S.ELEMENT_NODE){var p=r(h);s[p]=l(h,p)}}return s}if(t.nodeType==S.ELEMENT_NODE){var s=new Object;s.__cnt=0;var a=t.childNodes;for(var c=0;c<a.length;c++){var h=a.item(c),p=r(h);h.nodeType!=S.COMMENT_NODE&&(s.__cnt++,s[p]==null?(s[p]=l(h,n+"."+p),u(s,p,n+"."+p)):(s[p]!=null&&(s[p]instanceof Array||(s[p]=[s[p]],u(s,p,n+"."+p))),s[p][s[p].length]=l(h,n+"."+p)))}for(var d=0;d<t.attributes.length;d++){var v=t.attributes.item(d);s.__cnt++,s[e.attributePrefix+v.name]=v.value}var m=i(t);return m!=null&&m!=""&&(s.__cnt++,s.__prefix=m),s["#text"]!=null&&(s.__text=s["#text"],s.__text instanceof Array&&(s.__text=s.__text.join("\n")),e.escapeMode&&(s.__text=o(s.__text)),e.stripWhitespaces&&(s.__text=s.__text.trim()),delete s["#text"],e.arrayAccessForm=="property"&&delete s["#text_asArray"],s.__text=f(s.__text,p,n+"."+p)),s["#cdata-section"]!=null&&(s.__cdata=s["#cdata-section"],delete s["#cdata-section"],e.arrayAccessForm=="property"&&delete s["#cdata-section_asArray"]),s.__cnt==1&&s.__text!=null?s=s.__text:s.__cnt==0&&e.emptyNodeForm=="text"?s="":s.__cnt>1&&s.__text!=null&&e.skipEmptyTextNodesForObj&&(e.stripWhitespaces&&s.__text==""||s.__text.trim()=="")&&delete s.__text,delete s.__cnt,e.enableToStringFunc&&(s.__text!=null||s.__cdata!=null)&&(s.toString=function(){return(this.__text!=null?this.__text:"")+(this.__cdata!=null?this.__cdata:"")}),s}if(t.nodeType==S.TEXT_NODE||t.nodeType==S.CDATA_SECTION_NODE)return t.nodeValue}function c(t,n,r,i){var o="<"+(t!=null&&t.__prefix!=null?t.__prefix+":":"")+n;if(r!=null)for(var u=0;u<r.length;u++){var a=r[u],f=t[a];e.escapeMode&&(f=s(f)),o+=" "+a.substr(e.attributePrefix.length)+"='"+f+"'"}return i?o+="/>":o+=">",o}function h(e,t){return"</"+(e.__prefix!=null?e.__prefix+":":"")+t+">"}function p(e,t){return e.indexOf(t,e.length-t.length)!==-1}function d(t,n){return e.arrayAccessForm=="property"&&p(n.toString(),"_asArray")||n.toString().indexOf(e.attributePrefix)==0||n.toString().indexOf("__")==0||t[n]instanceof Function?!0:!1}function v(e){var t=0;if(e instanceof Object)for(var n in e){if(d(e,n))continue;t++}return t}function m(t){var n=[];if(t instanceof Object)for(var r in t)r.toString().indexOf("__")==-1&&r.toString().indexOf(e.attributePrefix)==0&&n.push(r);return n}function g(t){var n="";return t.__cdata!=null&&(n+="<![CDATA["+t.__cdata+"]]>"),t.__text!=null&&(e.escapeMode?n+=s(t.__text):n+=t.__text),n}function y(t){var n="";return t instanceof Object?n+=g(t):t!=null&&(e.escapeMode?n+=s(t):n+=t),n}function b(e,t,n){var r="";if(e.length==0)r+=c(e,t,n,!0);else for(var i=0;i<e.length;i++)r+=c(e[i],t,m(e[i]),!1),r+=w(e[i]),r+=h(e[i],t);return r}function w(e){var t="",n=v(e);if(n>0)for(var r in e){if(d(e,r))continue;var i=e[r],s=m(i);if(i==null||i==undefined)t+=c(i,r,s,!0);else if(i instanceof Object)if(i instanceof Array)t+=b(i,r,s);else if(i instanceof Date)t+=c(i,r,s,!1),t+=i.toISOString(),t+=h(i,r);else{var o=v(i);o>0||i.__text!=null||i.__cdata!=null?(t+=c(i,r,s,!1),t+=w(i),t+=h(i,r)):t+=c(i,r,s,!0)}else t+=c(i,r,s,!1),t+=y(i),t+=h(i,r)}return t+=y(e),t}var E="1.1.5";e=e||{},t(),n();var S={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};this.parseXmlString=function(e){var t=window.ActiveXObject||"ActiveXObject"in window;if(e===undefined)return null;var n;if(window.DOMParser){var r=new window.DOMParser,i=null;if(!t)try{i=r.parseFromString("INVALID","text/xml").childNodes[0].namespaceURI}catch(s){i=null}try{n=r.parseFromString(e,"text/xml"),i!=null&&n.getElementsByTagNameNS(i,"parsererror").length>0&&(n=null)}catch(s){n=null}}else e.indexOf("<?")==0&&(e=e.substr(e.indexOf("?>")+2)),n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(e);return n},this.asArray=function(e){return e instanceof Array?e:[e]},this.toXmlDateTime=function(e){return e instanceof Date?e.toISOString():typeof e=="number"?(new Date(e)).toISOString():null},this.asDateTime=function(e){return typeof e=="string"?a(e):e},this.xml2json=function(e){return l(e)},this.xml_str2json=function(e){var t=this.parseXmlString(e);return t!=null?this.xml2json(t):null},this.json2xml_str=function(e){return w(e)},this.json2xml=function(e){var t=this.json2xml_str(e);return this.parseXmlString(t)},this.getVersion=function(){return E}};