{"version":3,"file":"publicamundi.js","sources":["publicamundi-src.js"],"names":["window","$","PublicaMundi","__namespace","_relativePath","_defaultLib","_scripts","_loadingScript","LayerType","WMS","WFS","TILE","GeoJSON","KML","GML","GPX","CSV","WCS","WCPS","version","define","namespace","parts","split","current","index","length","slice","join","_extend","target","source","property","hasOwnProperty","undefined","Class","parent","initialize","arguments","this","apply","prototype","_initialize","i","len","constructor","_resolvers","registerFrameworkResolver","name","resolver","console","log","resolveFramework","isDefined","arg","isFunction","isObject","isClass","isArray","Array","Object","toString","call","getQueryStringParameters","url","parameters","replace","RegExp","$0","$1","$2","$3","locator","_dependencies","_factories","register","type","factory","indexOf","push","unregister","splice","resolve","create","options","Factory","registry","_LayerTypeRegistry","registerLayerType","registration","layer","framework","resolveLayerType","createLayer","getFactories","map","m","_PM","PM","noConflict","jQuery","last","attr","substring","lastIndexOf","data","ready","method","rel","href","appendTo","loader","shift","ajax","dataType","success","cache","Map","_map","_layers","_control","_viewbox","_popup","_highlight","projection","center","zoom","setExtent","extent","_setViewBox","_getViewBox","setLayerControl","c","getLayerControl","getMap","getOverlay","setCenter","x","y","getCenter","setZoom","z","getZoom","getProjection","getTarget","getLayers","_listen","suffixes","some","item","factories","r","setMap","addLayer","configure","onLoad","getJSON","layers","l","Layer","_type","_layer","_extent","bbox","_options","getType","getLayer","fitToMap","getOptions","_addToControl","update"],"mappings":"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"}